{"version":3,"sources":["redux/auth/auth-operations.js","redux/auth/auth-selectors.js","redux/auth/auth-slice.js","views/HomeView/HomeView.jsx","components/Navigation/Navigation.jsx","components/UserMenu/UserMenu.jsx","components/AuthNav/AuthNav.jsx","components/AppBar/AppBar.jsx","components/PrivateRoute/PrivateRoute.jsx","components/PublicRoute/PublicRoute.jsx","components/RegistrationForm/RegistrationForm.jsx","views/RegisterView/RegisterView.js","components/LoginForm/LoginForm.jsx","views/LoginView/LoginView.jsx","redux/phonebook/contacts-actions.js","redux/phonebook/contacts-operations.js","redux/phonebook/contacts-reducer.js","redux/phonebook/contacts-selectors.js","components/ContactForm/ContactForm.jsx","components/Filter/Filter.jsx","components/ContactList/ContactList.jsx","views/ContactsView/ContactsView.jsx","App.js","redux/store.js","index.js","components/RegistrationForm/RegistrationForm.module.css","components/AuthNav/AuthNav.module.css","components/Navigation/Navigation.module.css","components/LoginForm/LoginForm.module.css","components/ContactForm/ContactForm.module.css","components/ContactList/ContactList.module.css","components/UserMenu/UserMenu.module.css","components/Filter/Filter.module.css","App.module.css","views/HomeView/HomeView.module.css","components/AppBar/AppBar.module.css","views/RegisterView/RegisterView.module.css","views/LoginView/LoginView.module.css","views/ContactsView/ContactsView.module.css"],"names":["axios","defaults","baseURL","token","headers","common","Authorization","register","createAsyncThunk","credentials","thunkAPI","a","post","data","rejectWithValue","message","logIn","logOut","_","fetchCurrentUser","state","getState","persistedToken","auth","get","operations","authSelectors","getIsLoggedIn","isLoggedIn","getUserName","user","name","getUserEmail","email","getIsFetchingCurrentUser","isFetchingCurrentUser","getAuthError","authError","getRegError","regError","authSlice","createSlice","initialState","extraReducers","authOperations","fulfilled","action","payload","rejected","pending","HomeView","className","s","home","heading","Navigation","useSelector","navigation","to","link","activeClassName","activeLink","icon","UserMenu","dispatch","useDispatch","userMenu","type","logOutButton","onClick","AuthNav","exact","activeStyle","pageName","AppBar","header","nav","PrivateRoute","children","redirectTo","routeProps","PublicRoute","component","shouldRedirect","restricted","RegistrationForm","useState","setName","setEmail","password","setPassword","handleChange","target","value","registrationPage","form","method","onSubmit","e","preventDefault","label","input","placeholder","onChange","registerButton","Card","bg","text","style","width","Body","Title","Text","RegisterView","LoginForm","loginPage","loginButton","LoginView","fetchContactRequest","createAction","fetchContactSuccess","fetchContactError","addContactRequest","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","updateContactRequest","updateContactSuccess","updateContactError","changeFilter","actions","fetchContact","then","catch","error","addContact","contacts","number","isInContacts","some","contact","toLowerCase","alert","deleteContact","contactId","delete","updateContact","update","patch","items","createReducer","filter","id","map","loading","combineReducers","getContacts","getFilter","getTotalContacts","length","getError","getLoadingStatus","getFiltredContacts","createSelector","normalizedFilter","includes","ContactForm","ContactsSelectors","setNumber","event","ContactsOperations","pattern","title","required","button","Filter","ContactsActions","currentTarget","ContactList","useEffect","list","item","ContactsView","totalContacts","App","fallback","color","height","path","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","logger","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","authReducer","contactsReducer","devTools","process","persistor","persistStore","ReactDOM","render","StrictMode","basename","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.ce7fc2a3.chunk.js","sourcesContent":["import axios from \"axios\";\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\n\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\n\nconst token = {\n    set(token) {\n        axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n    },\n    unset(token) {\n        axios.defaults.headers.common.Authorization = '';\n    },\n};\n\nconst register = createAsyncThunk('auth/register', async (credentials, thunkAPI) => {\n    try {\n        const { data } = await axios.post('/users/signup', credentials);\n        token.set(data.token);\n        return data;\n      } catch (error) {\n        return thunkAPI.rejectWithValue(error.message);\n      }\n});\n\nconst logIn = createAsyncThunk('auth/login', async (credentials, thunkAPI) => {\n    try {\n        const { data } = await axios.post('/users/login', credentials);\n        token.set(data.token);\n        return data;\n    } catch (error) {\n        return thunkAPI.rejectWithValue(error.message);\n    }\n});\n\nconst logOut = createAsyncThunk('auth/logout', async (_, thunkAPI) => {\n    try {\n      await axios.post('/users/logout');\n      token.unset();\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error.message);\n    }\n  });\n  \n  const fetchCurrentUser = createAsyncThunk(\n    'auth/refresh',\n    async (_, thunkAPI) => {\n      const state = thunkAPI.getState();\n      const persistedToken = state.auth.token;\n  \n      if (persistedToken === null) {\n        return thunkAPI.rejectWithValue('None token');\n      }\n  \n      token.set(persistedToken);\n      try {\n        const { data } = await axios.get('/users/current');\n        return data;\n      } catch (error) {\n        return thunkAPI.rejectWithValue(error.message);\n      }\n    },\n  );\n  \n  const operations = {\n    register,\n    logOut,\n    logIn,\n    fetchCurrentUser,\n  };\n  export default operations;","const getIsLoggedIn = state => state.auth.isLoggedIn;\n\nconst getUserName = state => state.auth.user.name;\n\nconst getUserEmail = state => state.auth.user.email;\n\nconst getAuthError = state => state.auth.authError;\n\nconst getRegError = state => state.auth.regError;\n\nconst getIsFetchingCurrentUser = state => state.auth.isFetchingCurrentUser;\n\nconst authSelectors = {\n    getIsLoggedIn,\n    getUserName,\n    getUserEmail,\n    getIsFetchingCurrentUser,\n    getAuthError,\n    getRegError,\n};\nexport default authSelectors;","import { createSlice } from \"@reduxjs/toolkit\";\nimport authOperations from './auth-operations';\n\nconst initialState = {\n    user: { name: null, email: null },\n    token: null,\n    isLoggedIn: false, \n    isFetchingCurrentUser: false,\n    authError: null,\n    regError: null,\n};\n\nconst authSlice = createSlice({\n    name: 'auth',\n    initialState,\n    extraReducers: {\n        [authOperations.register.fulfilled](state, action) {\n            state.user = action.payload.user;\n            state.token = action.payload.token;\n            state.isLoggedIn = true;\n        },\n        [authOperations.register.rejected](state, action) {\n            state.regError = action.payload;\n        },\n\n        [authOperations.logIn.fulfilled](state, action) {\n            state.user = action.payload.user;\n            state.token = action.payload.token;\n            state.isLoggedIn = true;\n        },\n        [authOperations.logIn.rejected](state, action) {\n            state.authError = action.payload;\n          },\n\n        [authOperations.logOut.fulfilled](state) {\n            state.user = { name: null, email: null };\n            state.token = null;\n            state.isLoggedIn = false;\n        },\n\n        [authOperations.fetchCurrentUser.pending](state) {\n            state.isFetchingCurrentUser = true;\n          },\n        [authOperations.fetchCurrentUser.fulfilled](state, action) {\n            state.user = action.payload;\n            state.isLoggedIn = true;\n            state.isFetchingCurrentUser = false;\n        },\n        [authOperations.fetchCurrentUser.rejected](state) {\n            state.isFetchingCurrentUser = false;\n          },\n    },\n});\n\nexport default authSlice.reducer;","import s from '../HomeView/HomeView.module.css';\n\n\nexport default function HomeView() {\n    return (\n        <section className={s.home}>\n            <h2 className={s.heading}>Welcome to your most convenient phonebook</h2>\n        </section>)\n}","import { NavLink } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport s from '../Navigation/Navigation.module.css';\nimport { authSelectors } from \"../../redux/auth\";\nimport { AiOutlineRead, AiFillHome } from \"react-icons/ai\";\n\nconst Navigation = () => {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  return (\n    <nav className={s.navigation}>\n      <NavLink to=\"/\" className={s.link} activeClassName={s.activeLink}>\n        <div className={s.icon}><AiFillHome /></div>\n        <span>Home page</span>\n      </NavLink>\n\n      {isLoggedIn && (\n        <NavLink to=\"/contacts\" className={s.link} activeClassName={s.activeLink}>\n          <div className={s.icon}><AiOutlineRead /></div>\n          <span>Contacts page</span>\n        </NavLink>)}\n    </nav>\n  )\n};\n\nexport default Navigation;","import { useSelector, useDispatch } from 'react-redux';\nimport { authSelectors, authOperations } from '../../redux/auth';\nimport s from '../UserMenu/UserMenu.module.css';\nimport { AiOutlineLogout } from \"react-icons/ai\";\n\nconst UserMenu = () => {\n  const dispatch = useDispatch();\n  const email = useSelector(authSelectors.getUserEmail);\n\n  return (\n    <div className={s.userMenu}>\n      <span className={s.email}>{email}</span>\n\n      <button type=\"button\" className={s.logOutButton} onClick={() => dispatch(authOperations.logOut())}>\n\n        <div className={s.icon}><AiOutlineLogout /></div>\n        <p className={s.link}>Log out</p>\n      </button>\n    </div>\n  )\n};\n\nexport default UserMenu;","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport s from '../AuthNav/AuthNav.module.css';\nimport { AiOutlineUserAdd, AiOutlineUserSwitch } from \"react-icons/ai\";\n\nexport default function AuthNav() {\n  return (\n    <div>\n      <NavLink to=\"/register\" exact className={s.link} activeStyle={s.activeLink}>\n        <div className={s.icon}><AiOutlineUserAdd /></div>\n        <span className={s.pageName}>\n          Registration page\n        </span>\n      </NavLink>\n      <NavLink to=\"/login\" exact className={s.link} activeStyle={s.activeLink}>\n        <div className={s.icon}><AiOutlineUserSwitch /></div>\n        <span className={s.pageName}>\n          Login page</span>\n      </NavLink>\n    </div>\n  );\n}","import { useSelector } from \"react-redux\";\nimport Navigation from \"../Navigation/Navigation\";\nimport UserMenu from '../UserMenu/UserMenu';\nimport AuthNav from '../AuthNav/AuthNav';\nimport { authSelectors } from \"../../redux/auth\";\nimport s from '../AppBar/AppBar.module.css'\n\nexport default function AppBar() {\n    const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n    return (\n        <header className={s.header}>\n            <Navigation />\n            <div className={s.nav}>\n                {isLoggedIn ? <UserMenu /> : <AuthNav />}\n            </div>\n\n        </header>\n    )\n}","import { useSelector } from \"react-redux\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { authSelectors } from '../../redux/auth';\n\nexport default function PrivateRoute({\n    children,\n    redirectTo,\n    ...routeProps }) {\n    const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n    return (\n        <Route {...routeProps}>\n            {isLoggedIn ? children : <Redirect to={redirectTo} />}\n        </Route>\n    );\n}","import { useSelector } from \"react-redux\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { authSelectors } from '../../redux/auth';\n\nexport default function PublicRoute({\n    component: Component,\n    redirectTo,\n    children,\n    ...routeProps\n}) {\n    const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n    const shouldRedirect = isLoggedIn && routeProps.restricted;\n    return (\n        <Route {...routeProps}>\n            {shouldRedirect ? <Redirect to={redirectTo} /> : children}\n        </Route>\n    );\n}","import { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { authOperations, authSelectors } from '../../redux/auth';\nimport s from '../RegistrationForm/RegistrationForm.module.css';\nimport { Card } from 'react-bootstrap';\n\nexport default function RegistrationForm() {\n  const dispatch = useDispatch();\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  const handleChange = ({ target: { name, value } }) => {\n    switch (name) {\n      case 'name':\n        return setName(value);\n      case 'email':\n        return setEmail(value);\n      case 'password':\n        return setPassword(value);\n      default:\n        return;\n    }\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    dispatch(authOperations.register({ name, email, password }));\n    setName('');\n    setEmail('');\n    setPassword('');\n  };\n  const regError = useSelector(authSelectors.getRegError);\n\n  return (\n    <div className={s.registrationPage}>\n      <form className={s.form} method=\"post\" onSubmit={handleSubmit}>\n        <label className={s.label}>\n          Name\n          <input className={s.input} type=\"text\" placeholder=\"Enter name\" name=\"name\" value={name} onChange={handleChange} />\n        </label>\n        <label className={s.label}>\n          Email address\n          <input className={s.input} type=\"email\" placeholder=\"Enter email\" name=\"email\" value={email} onChange={handleChange} />\n        </label>\n        <label className={s.label}>\n          Password\n          <input className={s.input} type=\"password\" placeholder=\"Enter password\" name=\"password\" value={password} onChange={handleChange} />\n        </label>\n        <button type=\"submit\" className={s.registerButton}>\n          Registration\n        </button>\n      </form>\n\n      {regError && (\n        <Card\n          bg=\"warning\"\n          text=\"light\"\n          style={{ width: '18rem' }}\n          className=\"mb-2\"\n        >\n          <Card.Body>\n            <Card.Title> Error </Card.Title>\n            <Card.Text>\n              Wrong registration data. Try again with another data!\n            </Card.Text>\n          </Card.Body>\n        </Card>\n      )}\n    </div>\n  );\n}","import RegistrationForm from '../../components/RegistrationForm';\nimport s from '../RegisterView/RegisterView.module.css';\nexport default function RegisterView() {\n  return (\n    <>\n      <h2 className={s.heading}>Register your account</h2>\n      <RegistrationForm />\n    </>\n  );\n}","import { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { authOperations, authSelectors } from '../../redux/auth';\nimport s from '../LoginForm/LoginForm.module.css';\nimport { Card } from 'react-bootstrap';\n\nexport default function LoginForm() {\n  const dispatch = useDispatch();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  const handleChange = ({ target: { name, value } }) => {\n    switch (name) {\n      case 'email':\n        return setEmail(value);\n      case 'password':\n        return setPassword(value);\n      default:\n        return;\n    }\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    dispatch(authOperations.logIn({ email, password }));\n    setEmail('');\n    setPassword('');\n  };\n\n  const authError = useSelector(authSelectors.getAuthError);\n\n  return (\n    <div className={s.loginPage}>\n      <form className={s.form} method=\"post\" onSubmit={handleSubmit}>\n        <label className={s.label}>\n          Email address\n          <input className={s.input} type=\"email\" placeholder=\"Enter email\" name=\"email\" value={email} onChange={handleChange} />\n        </label>\n        <label className={s.label}>\n          Password\n          <input className={s.input} type=\"password\" placeholder=\"Enter password\" name=\"password\" value={password} onChange={handleChange} />\n        </label>\n        <button type=\"submit\" className={s.loginButton}>\n          Login\n        </button>\n      </form>\n\n      {authError && (\n        <Card\n          bg=\"warning\"\n          text=\"light\"\n          style={{ width: '18rem' }}\n          className=\"mb-2\"\n        >\n          <Card.Body>\n            <Card.Title> Error </Card.Title>\n            <Card.Text>Email or password wrong. Try again!</Card.Text>\n          </Card.Body>\n        </Card>\n      )}\n    </div>\n  );\n}","import LoginForm from '../../components/LoginForm';\nimport s from '../LoginView/LoginView.module.css';\n\nexport default function LoginView() {\n  return (\n    <>\n      <h2 className={s.heading}>Log in to your account</h2>\n      <LoginForm />\n    </>\n  );\n}","import { createAction } from '@reduxjs/toolkit';\n\nexport const fetchContactRequest = createAction('contacts/fetchContactRequest');\nexport const fetchContactSuccess = createAction('contacts/fetchContactSuccess');\nexport const fetchContactError = createAction('contacts/fetchContactError');\n\nexport const addContactRequest = createAction('contacts/addContactRequest');\nexport const addContactSuccess = createAction('contacts/addContactSuccess');\nexport const addContactError = createAction('contacts/addContactError');\n\nexport const deleteContactRequest = createAction('contacts/deleteContactRequest');\nexport const deleteContactSuccess = createAction('contacts/deleteContactSuccess');\nexport const deleteContactError = createAction('contacts/deleteContactError');\n\nexport const updateContactRequest = createAction('contacts/updateContactRequest');\nexport const updateContactSuccess = createAction('contacts/updateContactSuccess');\nexport const updateContactError = createAction('contacts/updateContactError');\n\nexport const changeFilter = createAction('contscts/changeFilter');","import axios from 'axios';\nimport * as actions from './contacts-actions';\n\nconst { fetchContactRequest, fetchContactSuccess, fetchContactError, addContactRequest, addContactSuccess, addContactError, deleteContactRequest, deleteContactSuccess, deleteContactError, updateContactRequest, updateContactSuccess, updateContactError } = actions;\n\nexport const fetchContact = () => dispatch => {\n    dispatch(fetchContactRequest());\n\n    axios.get('/contacts').then(({ data }) => dispatch(fetchContactSuccess(data))).catch(error => dispatch(fetchContactError(error)));\n};\n\nexport const addContact = (contacts, name, number) => dispatch => {\n    // const isInContacts = contacts.some(contact => contact.name === name);\n    //     if (isInContacts) { \n    //         let replaceAgreement = window.confirm(`${name} is already in contacts. Replace ${name} number?`);\n\n    //         if (!replaceAgreement) {\n    //             const update = { number };\n    //             dispatch(updateContactRequest());\n\n    //             axios\n    //             .patch(`/contacts/${name}`, update)\n    //             .then(({ data }) => dispatch(updateContactSuccess(data)))\n    //             .catch(error => dispatch(updateContactError(error)));\n    //         }\n    const isInContacts = contacts.some(contact => contact.name.toLowerCase() === name.toLowerCase());\n    if (isInContacts) {\n        alert(`${name} is already in contacts`);\n        return;\n    }\n    const contact = {\n        name,\n        number\n    };\n\n    dispatch(addContactRequest());\n\n    axios.post('/contacts', contact).then(({ data }) => dispatch(addContactSuccess(data))).catch(error => dispatch(addContactError(error)));\n    // }\n};\n\nexport const deleteContact = contactId => dispatch => {\n    dispatch(deleteContactRequest());\n\n    axios.delete(`/contacts/${contactId}`).then(() => dispatch(deleteContactSuccess(contactId))).catch(error => dispatch(deleteContactError(error)));\n};\n\nexport const updateContact = (contactId, number) => dispatch => {\n    const update = { number };\n    dispatch(updateContactRequest());\n\n    axios.patch(`/contacts/${contactId}`, update).then(({ data }) => dispatch(updateContactSuccess(data))).catch(error => dispatch(updateContactError(error)));\n};\n\n// const operations = { fetchContact, addContact, deleteContact, updateContact };\n// export default operations;","import { combineReducers } from \"redux\";\nimport { createReducer } from \"@reduxjs/toolkit\";\nimport * as actions from './contacts-actions';\n\nconst { fetchContactRequest, fetchContactSuccess, fetchContactError, addContactRequest, addContactSuccess, addContactError, deleteContactRequest, deleteContactSuccess, deleteContactError, updateContactRequest, updateContactSuccess, updateContactError, changeFilter } = actions;\n\nconst items = createReducer([], {\n    [fetchContactSuccess]: (_, { payload }) => payload,\n\n    [addContactSuccess]: (state, { payload }) => [...state, payload],\n\n    [deleteContactSuccess]: (state, { payload }) => state.filter(contact => contact.id !== payload),\n    \n    [updateContactSuccess]: (state, { payload }) => state.map(contact => contact.name === payload.name ? { ...contact, number: payload.number } : contact )\n});\n\nconst loading = createReducer(false, {\n    [fetchContactRequest]: () => true,\n    [fetchContactSuccess]: () => false,\n    [fetchContactError]: () => false,\n    [addContactRequest]: () => true,\n    [addContactSuccess]: () => false,\n    [addContactError]: () => false,\n    [deleteContactRequest]: () => true,\n    [deleteContactSuccess]: () => false,\n    [deleteContactError]: () => false,\n    [updateContactRequest]: () => true,\n    [updateContactSuccess]: () => false,\n    [updateContactError]: () => false,\n})\n           \nconst filter = createReducer('', {\n    [changeFilter]: (_, { payload }) => payload\n});\n\nconst error = createReducer(null, {\n    [fetchContactError]: (_, { payload }) => payload,\n    [addContactError]: (_, { payload }) => payload,\n    [deleteContactError]: (_, { payload }) => payload,\n    [updateContactError]: (_, { payload }) => payload,\n    [fetchContactRequest]: () => null,\n    [addContactRequest]: () => null,\n    [deleteContactRequest]: () => null,\n    [updateContactRequest]: () => null,\n  });\n\nexport default combineReducers({ items, loading, filter, error });","import { createSelector } from \"@reduxjs/toolkit\";\n\nexport const getContacts = state => state.contacts.items;\nexport const getFilter = state => state.contacts.filter;\nexport const getTotalContacts = state => state.contacts.items.length;\nexport const getError = state => state.contacts.error;\nexport const getLoadingStatus = state => state.contacts.loading;\n\nexport const getFiltredContacts = createSelector(\n    [getContacts, getFilter],\n    (contacts, filter) => {\n      const normalizedFilter = filter.toLowerCase();  \n      return contacts.filter(contact => contact.name.includes(normalizedFilter),\n      );\n    },\n  );\n\n// export const getFiltredContacts = state => {\n//     const contacts = getContacts(state);\n//     const filter = getFilter(state);\n//     const normalizedFilter = filter.toLowerCase();\n   \n//     return contacts.filter(contact => contact.name.includes(normalizedFilter))};\n\n","\r\nimport React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport s from '../ContactForm/ContactForm.module.css'\r\nimport { ContactsSelectors, ContactsOperations } from '../../redux/phonebook';\r\n\r\n\r\nexport default function ContactForm() {\r\n    const dispatch = useDispatch();\r\n    const contacts = useSelector(ContactsSelectors.getFiltredContacts);\r\n    const [name, setName] = useState('');\r\n    const [number, setNumber] = useState('');\r\n\r\n    const handleChange = event => {\r\n        const { name, value } = event.target;\r\n        switch (name) {\r\n            case 'name':\r\n                setName(value);\r\n                break;\r\n            case 'number':\r\n                setNumber(value);\r\n                break;\r\n            default:\r\n                return;\r\n        }\r\n    };\r\n\r\n    const handleSubmit = event => {\r\n        event.preventDefault();\r\n        dispatch(ContactsOperations.addContact(contacts, name, number));\r\n        setName('');\r\n        setNumber('');\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit} className={s.form} method=\"post\">\r\n            <label className={s.label}>\r\n                Name\r\n                <input\r\n                    className={s.input}\r\n                    type=\"text\"\r\n                    name=\"name\"\r\n                    value={name}\r\n                    pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\r\n                    title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\r\n                    onChange={handleChange}\r\n                    required\r\n                />\r\n            </label>\r\n            <label className={s.label}>\r\n                Phone Number\r\n                <input\r\n                    className={s.input}\r\n                    type=\"tel\"\r\n                    name=\"number\"\r\n                    value={number}\r\n                    pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\r\n                    title=\"Номер телефона должен состоять цифр и может содержать пробелы, тире, круглые скобки и может начинаться с +\"\r\n                    onChange={handleChange}\r\n                    required\r\n                />\r\n            </label>\r\n            <button type=\"submit\" className={s.button}>\r\n                Add Contact\r\n            </button>\r\n        </form>\r\n    );\r\n}\r\n","import React from 'react';\nimport s from './Filter.module.css'\nimport { useDispatch, useSelector } from 'react-redux';\nimport { ContactsSelectors, ContactsActions } from '../../redux/phonebook';\n\nexport default function Filter() {\n    const filter = useSelector(ContactsSelectors.getFilter);\n    const dispatch = useDispatch();\n    const onChangeFilter = event => {\n        dispatch(ContactsActions.changeFilter(event.currentTarget.value))\n    };\n    return (\n        <form className={s.form}>\n            <label className={s.label}>\n                Find contacts by name\n                <input type=\"text\" value={filter} required onChange={onChangeFilter} className={s.input} />\n            </label>\n        </form>\n    );\n}\n\n","import React from 'react';\nimport { useEffect } from 'react';\nimport s from './ContactList.module.css'\nimport { useDispatch, useSelector } from 'react-redux';\nimport { ContactsSelectors, ContactsOperations } from '../../redux/phonebook';\n\nexport default function ContactList() {\n    const error = useSelector(ContactsSelectors.getError);\n    const loading = useSelector(ContactsSelectors.getLoadingStatus);\n    const dispatch = useDispatch();\n    useEffect(() => {\n        dispatch(ContactsOperations.fetchContact());\n    }, [dispatch]);\n    const contacts = useSelector(ContactsSelectors.getFiltredContacts);\n\n    return (\n        <>\n            {loading && <h2 className={s.loading}>Loading...</h2>}\n            {error && <h2 className={s.error}>{error}</h2>}\n            <ul className={s.list}>\n                {contacts.map(({ id, name, number }) => (\n                    <li key={id} className={s.item}>\n                        <p className={s.name}>{name}: <span>{number}</span></p>\n                        <button onClick={() => dispatch(ContactsOperations.deleteContact(id))} type=\"button\" className={s.button}>DELETE</button>\n\n                    </li>\n                ))}\n            </ul>\n        </>\n    )\n};\n","import { useSelector } from 'react-redux';\nimport ContactForm from '../../components/ContactForm';\nimport Filter from '../../components/Filter';\nimport ContactList from '../../components/ContactList';\nimport { ContactsSelectors } from '../../redux/phonebook';\nimport s from '../ContactsView/ContactsView.module.css';\n\nfunction ContactsView() {\n  const totalContacts = useSelector(ContactsSelectors.getTotalContacts);\n  return (\n    <div className={s.contacts}>\n      <h2>Expand your contacts </h2>\n      <ContactForm />\n      <h2>Your contacts (total: {totalContacts}) </h2>\n      <Filter />\n      <ContactList />\n    </div>\n  );\n}\n\nexport default ContactsView;","import React from 'react';\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Suspense } from 'react';\nimport Loader from 'react-loader-spinner';\nimport { Redirect, Switch } from 'react-router-dom';\nimport { authOperations, authSelectors } from './redux/auth';\n\nimport s from './App.module.css';\nimport HomeView from './views/HomeView';\nimport AppBar from './components/AppBar';\nimport PrivateRoute from './components/PrivateRoute';\nimport PublicRoute from './components/PublicRoute';\n\nimport RegisterView from './views/RegisterView/RegisterView';\nimport LoginView from './views/LoginView';\nimport ContactsView from './views/ContactsView';\n\n\nexport default function App() {\n    const dispatch = useDispatch();\n\n    const isFetchingCurrentUser = useSelector(authSelectors.getIsFetchingCurrentUser);\n\n    useEffect(() => {\n        dispatch(authOperations.fetchCurrentUser());\n    }, [dispatch]);\n\n    return (!isFetchingCurrentUser && (\n        <div className={s.App}>\n            <h1 className={s.header}>Phonebook</h1>\n            <AppBar />\n            <Suspense fallback={<Loader type=\"ThreeDots\" color=\"brown\" height={80} width={80} />}>\n                <Switch>\n                    <PublicRoute exact path=\"/\">\n                        <HomeView />\n                    </PublicRoute>\n\n                    <PublicRoute path=\"/register\" restricted redirectTo=\"/contacts\">\n                        <RegisterView />\n                    </PublicRoute>\n\n                    <PublicRoute path=\"/login\" restricted redirectTo=\"/contacts\">\n                        <LoginView />\n                    </PublicRoute>\n\n                    <PrivateRoute path=\"/contacts\" redirectTo=\"/login\">\n                        <ContactsView />\n                    </PrivateRoute>\n                    <PublicRoute path=\"*\">\n                        <Redirect to=\"/\" />\n                    </PublicRoute>\n                </Switch>\n            </Suspense>\n        </div>\n    ));\n}","// import { combineReducers, createStore } from 'redux';\n// import { composeWithDevTools } from 'redux-devtools-extension';\nimport { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport contactsReducer from './phonebook/contacts-reducer';\nimport { authReducer } from './auth';\nimport { logger } from 'redux-logger';\nimport {\n    persistStore, \n    persistReducer,\n    FLUSH,\n    REHYDRATE,\n    PAUSE,\n    PERSIST,\n    PURGE,\n    REGISTER, \n} from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\n\nconst middleware = [\n    ...getDefaultMiddleware({\n        serializableCheck: {\n            ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n        },\n    }), logger, \n];\n\n// const contactsPersistConfig = {\n//     key: 'contacts',\n//     storage,\n//     blacklist: ['filter'],\n// };\n// const rootReducer = combineReducers({\n//     contacts: contactsReducer,\n// });\n// const store = createStore(rootReducer, composeWithDevTools());\n\nconst authPersistConfig = {\n    key: 'auth',\n    storage,\n    whitelist: ['token'],\n};\n\nexport const store = configureStore({\n    reducer: {\n        auth: persistReducer(authPersistConfig, authReducer),\n        contacts: contactsReducer, \n    },\n    middleware,    \n    devTools: process.env.NODE_ENV === 'development',\n});\n\nexport const persistor = persistStore(store);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { store, persistor } from './redux/store';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <PersistGate loading={<h3>Загружаем локальное хранилище</h3>} persistor={persistor}>\n                <BrowserRouter basename='/goit-react-hw-08-phonebook/'>\n                    <App />\n                </BrowserRouter>\n            </PersistGate>\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"registrationPage\":\"RegistrationForm_registrationPage__3HqrJ\",\"form\":\"RegistrationForm_form__3pm3J\",\"label\":\"RegistrationForm_label__7ahQx\",\"input\":\"RegistrationForm_input__fXotT\",\"registerButton\":\"RegistrationForm_registerButton__-CW8b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"AuthNav_link__Oa9gv\",\"icon\":\"AuthNav_icon__3XBqo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navigation\":\"Navigation_navigation__6IJ7B\",\"link\":\"Navigation_link__6mHXt\",\"icon\":\"Navigation_icon__3GoiW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginPage\":\"LoginForm_loginPage__2WQoF\",\"form\":\"LoginForm_form__1Afsm\",\"label\":\"LoginForm_label__1gytQ\",\"input\":\"LoginForm_input__MKVEf\",\"loginButton\":\"LoginForm_loginButton__3u_aa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"ContactForm_form__Kamce\",\"label\":\"ContactForm_label__38p1q\",\"input\":\"ContactForm_input__3bX8w\",\"button\":\"ContactForm_button__EWkB3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"ContactList_list__yQ0Lc\",\"item\":\"ContactList_item__1yycx\",\"name\":\"ContactList_name__3F3K0\",\"button\":\"ContactList_button__1mbbc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userMenu\":\"UserMenu_userMenu__2wwwj\",\"email\":\"UserMenu_email__3iUol\",\"logOutButton\":\"UserMenu_logOutButton__2wGcr\",\"link\":\"UserMenu_link__3aYqG\",\"icon\":\"UserMenu_icon__2Oy7U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Filter_form__3f-J6\",\"input\":\"Filter_input__2QjR3\",\"label\":\"Filter_label__1snNj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__EyLZS\",\"App-logo\":\"App_App-logo__1vZJv\",\"App-logo-spin\":\"App_App-logo-spin__1s83I\",\"App-header\":\"App_App-header__1sjC0\",\"App-link\":\"App_App-link__cckys\",\"section\":\"App_section__261iD\",\"header\":\"App_header__3ePAn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"HomeView_home__1WWCL\",\"heading\":\"HomeView_heading__2WtLG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppBar_header__3-SwI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"heading\":\"RegisterView_heading__2oxbN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"heading\":\"LoginView_heading__2w5ws\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contacts\":\"ContactsView_contacts__3E3Hu\"};"],"sourceRoot":""}